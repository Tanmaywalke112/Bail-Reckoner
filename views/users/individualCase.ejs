<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= case1.caseTitle %> - Case Details</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
</head>
<body>
    <div class="container mt-5">
        <h1 class="text-center">Case Details</h1>
        <div class="card mt-4">
            <div class="card-header">
                <h3><%= case1.caseTitle %></h3>
            </div>
            <div class="card-body">
                <p><strong>Case Type:</strong> <%= case1.caseType %></p>
                <p><strong>Status:</strong> <%= case1.status %></p>
                <p><strong>Filing Date:</strong> <%= case1.filingDate.toDateString() %></p>
                <p><strong>Nature of Offense:</strong> <%= case1.natureOfOffense %></p>
                <p><strong>Conviction Status:</strong> <%= case1.convictionStatus %></p>
                <p><strong>Investigation Status:</strong> <%= case1.investigationStatus %></p>
                <p><strong>Court:</strong> <%= case1.court.courtName %>, <%= case1.court.courtAddress %></p>
                <p><strong>Judge:</strong> <%= case1.judge.name %></p>
                <p><strong>Defendant:</strong> <%= case1.defendant %></p>
                <p><strong>Lawyers:</strong> 
                    Lawyer 1: <%= case1.lawyer1.map(lawyer => lawyer.name).join(', ') %><br>
                    Lawyer 2: <%= case1.lawyer2.map(lawyer => lawyer.name).join(', ') %>
                </p>
                <p><strong>Date of Arrest:</strong> <%= case1.dateOfArrest.toDateString() %></p>
                <p><strong>Verdict:</strong> <%= case1.verdict %></p>
                <p><strong>Accused:</strong> <%= case1.accussed.name %></p>
                <p><strong>Stenographer:</strong> <%= case1.stenographer.name %></p>
                <p><strong>Signed:</strong> <%= case1.signed %></p>
                
                <!-- Appeals Section -->
                <h4>Appeals</h4>
                <% if(case1.appeals.length > 0) { %>
                    <ul>
                        <% case1.appeals.forEach(function(appeal) { %>
                            <li>
                                <strong>Appeal Date:</strong> <%= appeal.appealDate ? appeal.appealDate.toDateString() : 'N/A' %><br>
                                <strong>Court:</strong> <%= appeal.appealCourt %><br>
                                <strong>Outcome:</strong> <%= appeal.outcome %>
                            </li>
                        <% }); %>
                    </ul>
                <% } else { %>
                    <p>No appeals available.</p>
                <% } %>

                <!-- Case Proceedings Section -->
                <h4>Case Proceedings</h4>
                <p><strong>Evidence Presented:</strong> <%= case1.caseProceedings.evidencePresented.join(', ') %></p>
                <p><strong>Witnesses Testified:</strong></p>
                <% if(case1.caseProceedings.witnessesTestified.length > 0) { %>
                    <ul>
                        <% case1.caseProceedings.witnessesTestified.forEach(function(witness) { %>
                            <li>
                                <strong>Name:</strong> <%= witness.name %><br>
                                <strong>Contact:</strong> <%= witness.contact %><br>
                                <strong>Address:</strong> <%= witness.address %><br>
                                <strong>Testimony:</strong> <%= witness.testimony.join(', ') %>
                            </li>
                        <% }); %>
                    </ul>
                <% } else { %>
                    <p>No witnesses have testified.</p>
                <% } %>
            </div>
        </div>
        <a href="/allcases" class="btn btn-primary mt-4">Back to All Cases</a>
    </div>
</body>
</html>
